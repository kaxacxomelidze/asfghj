RewriteEngine On

# Keep admin panel URLs unchanged
RewriteRule ^admin/ - [L]

# Redirect .php URLs (except admin) to clean URLs
RewriteCond %{THE_REQUEST} \s/+(.+?)\.php([\s?]|$) [NC]
RewriteCond %1 !^admin/ [NC]
RewriteRule ^ %1 [R=301,L]

# Serve extensionless URLs from matching .php files
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.+)$ $1.php [L,QSA]

# Home
DirectoryIndex index.php
